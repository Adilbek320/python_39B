define(["jquery"],function($){"use strict";$.widget("mobile.navigation",{_create:function(){var self=this;self._cacheSelectors();self._bindEventsToCachedSelectors();},_cacheSelectors:function(){var self=this;self.body=$("body");self.nav=$("#mobile_navigation");self.navTitle=$(".mobile-nav-title");self.openNav=$("#mobile_nav_open");self.closeNav=$("#mobile_nav_close");self.primaryNav=$(".mobile-nav--primary");self.accountNav=$(".mobile-nav--account");self.secondaryNav=$(".mobile-nav--secondary");self.accordion=$(".mobile-nav-accordion");self.accordionLink=$(".mobile-nav-link--accordion");self.primaryItems=$(".mobile-nav-item--primary:not(.mobile-nav-item--home)");},_bindEventsToCachedSelectors:function(){var self=this;self.openNav.on("click",self._openNav.bind(self));self.closeNav.on("click",self._closeNav.bind(self));self.navTitle.on("click",self._togglePrimaryNav.bind(self));self.primaryItems.on("click",self._toggleSecondaryNav.bind(self));self.accordionLink.on("click",self._toggleAccordion.bind(self));self.onResize=self._debounce(function(){self._closeNav();},300);window.addEventListener("resize",self.onResize);},_openNav:function(){var self=this;self.body.addClass("noscroll");self._togglePrimaryNav();self.nav.show();$(".uwy").hide();$(".spr-lc-light").hide();$("#ot-sdk-btn-floating").hide();},_closeNav:function(){var self=this;self.nav.hide();self.body.removeClass("noscroll");$(".uwy").show();$(".spr-lc-light").show();$("#ot-sdk-btn-floating").show();},_togglePrimaryNav:function(event){var self=this;if(event){event.preventDefault();}
self.accordion.hide();self.accordionLink.removeClass("active");self.secondaryNav.hide();self.primaryNav.fadeIn();self.accountNav.fadeIn();},_toggleSecondaryNav:function(event){var self=this,id=event.target.dataset.id;event.preventDefault();self.primaryNav.hide();self.accountNav.hide();$(".mobile-nav--secondary[data-id="+id+"]").fadeToggle();},_toggleAccordion:function(event){var self=this,target=event.target,id=target.dataset.id;event.preventDefault();self.accordion.not("[data-id="+id+"]").hide();self.accordionLink.not(target).removeClass("active");$(target).toggleClass("active");$(".mobile-nav-accordion[data-id="+id+"]").slideToggle();},_debounce:function(func,delay){var timeout;return function(){var context=this;var args=arguments;clearTimeout(timeout);timeout=setTimeout(function(){func.apply(context,args);},delay);};},_destroy:function(){var self=this;self.openNav.off("click");self.closeNav.off("click");self.navTitle.off("click");self.primaryItems.off("click");self.accordionLink.off("click");window.removeEventListener("resize",self.onResize);},});return $.mobile.navigation;});