define(["jquery","slick"],function($,slick){"use strict";return function(config,element){var $slider=element.find(".pagebuilder-hero-slides"),$prev=element.find(".slider-control--prev"),$next=element.find(".slider-control--next"),$counter=element.find(".slide-counter"),$images=element.find(".hero-slide-image"),firstImg=$images.first().get(0),sliderAttr=element[0].dataset;if(firstImg&&firstImg.dataset.image){var firstImgData=JSON.parse(firstImg.dataset.image.replace(/\\/g,""));if(!$.isEmptyObject(firstImgData)){$(firstImg).css("background-image","url("+firstImgData.desktop_image+")");}}
$slider.on("init reInit",function(e,slick){var current=parseInt(slick.currentSlide+1);$counter.text(current+"/"+slick.slideCount);});$slider.on("beforeChange",function(e,slick,currentSlide,nextSlide){var nextEl=slick.$slides.get(nextSlide),nextImg=$(nextEl).find(".hero-slide-image"),nextImgLoaded=$(nextImg).css("background-image");if(!nextImgLoaded||nextImgLoaded==="none"){var nextImgData=JSON.parse(nextImg[0].dataset.image.replace(/\\/g,""));if(!$.isEmptyObject(nextImgData)){$(nextImg).css("background-image","url("+nextImgData.desktop_image+")");}}
var next=parseInt(nextSlide+1);$counter.text(next+"/"+slick.slideCount);});var sliderOptions={rows:0,fade:true,dots:false,arrows:false,infinite:false,draggable:false,slidesToShow:1,cssEase:"linear",responsive:[{breakpoint:960,settings:{draggable:true,},},],};if(sliderAttr&&sliderAttr.autoplay){sliderOptions.infinite=true;sliderOptions.autoplay=true;sliderOptions.pauseOnHover=true;sliderOptions.autoplaySpeed=parseInt(sliderAttr.autoplay*1000);}
$slider.slick(sliderOptions);$prev.on("click",function(){$slider.slick("slickPrev");});$next.on("click",function(){$slider.slick("slickNext");});};});